<canvas id=g width=500 height=500/><script>for(C=9,N=50,B=85,M=N*N,m=Math,d=g.getContext`2d`,f=i=>m.floor(i),j=0;j<M;j++)g[j]=m.random()<=.1?B:0;setInterval(_=>{for(h=[],i=0;i<M;i++){for(z=S=0,y=f(i/N);z<9;z++)S+=(z-4?1:8)*(g[N*((N+y+z%3-1)%N)+(N+i+f(z/3)-1)%N]<B?0:1);s=h[i]=S%7!=3&&S-11?m.max(0,g[i]-5):B;d.fillStyle=`rgb(0,${s-B?s:3*s},0)`;d.fillRect(i%N*C,y*C,C,C)}g=h},99)</script>
