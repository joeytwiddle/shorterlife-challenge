<canvas id=g width=500 height=500/><script>for(C=10,N=50,B=83,M=N*N,m=Math,d=g.getContext("2d"),f=i=>m.floor(i),g=[],j=0;j<M;j++)g[j]=m.random()<=.1?B:0;setInterval(_=>{for(h=[],i=0;i<M;i++){for(z=S=0;z<9;z++)S+=(z-4?1:8)*(g[N*((N+f(i/N)+z%3-1)%N)+(N+i+f(z/3)-1)%N]<B?0:1);s=h[i]=S%7!=3&&S-11?m.max(0,g[i]-5):B;s*=s-B?1:3;d.fillStyle=`rgb(${s},${s},${s})`;d.fillRect(i%N*C,f(i/N)*C,C,C);}g=h},100)</script>
